var PathCtr={isDebug:!1,debugPrint:function(){if(this.isDebug)for(let t=0;t<arguments.length;++t)console.log(arguments[t])},defaultCanvasContainerID:"path-container",defaultActionName:"base",defaultBoneName:"bone",initTarget:null,currentFrame:0,currentActionID:-1,binDataPosRange:2e4,pathContainer:null,context:null,subContext:null,viewWidth:0,viewHeight:0,requestAnimationIDs:[],setTimeoutIDs:[],cancelFunctions:function(){(this.requestAnimationIDs.length>1||this.setTimeoutIDs.length>1)&&console.log("requestAnimationIDs:"+this.requestAnimationIDs.length+", "+setTimeoutIDs.length),this.requestAnimationIDs.forEach(window.cancelAnimationFrame),this.requestAnimationIDs.length=0,this.setTimeoutIDs.forEach(window.clearTimeout),this.setTimeoutIDs.length=0},init:function(){let t=document.getElementById(this.defaultCanvasContainerID);if(!t)return void console.error("CanvasContainer is not found.");let e=document.createElement("canvas");e.className="main-canvas",t.appendChild(e);let i=document.createElement("canvas");if(i.className="sub-canvas",i.style.cssText="display:none;",t.appendChild(i),this.context=e.getContext("2d"),this.subContext=i.getContext("2d"),!this.context||!this.subContext)return void console.error("context is not found.");window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame||window.mozCancelAnimationFrame;this.viewWidth=document.documentElement.clientWidth,this.viewHeight=document.documentElement.clientHeight,e.setAttribute("style","position:fixed;z-index:-1;left:0;top:0;width:"+this.viewWidth+"px;height:"+this.viewHeight+"px;"),e.width=i.width=this.viewWidth,e.height=i.height=this.viewHeight,window.addEventListener("resize",()=>{this.viewWidth=document.documentElement.clientWidth,this.viewHeight=document.documentElement.clientHeight,e.setAttribute("style","position:fixed;z-index:-1;left:0;top:0;width:"+this.viewWidth+"px;height:"+this.viewHeight+"px;"),this.pathContainer&&this.pathContainer.setSize(this.viewWidth,this.viewHeight)});let s=1/24,r=0,a=0,o=0,n=t=>{if(!e.parentNode)return void this.cancelFunctions();if(void 0===t)return;if(o=(o+(t-a)/1e3)/2,a=t,!this.pathContainer)return;e.width=i.width=this.viewWidth,e.height=i.height=this.viewHeight,this.subContext.clearRect(0,0,this.viewWidth,this.viewHeight),this.pathContainer.draw(r),r=(r+1)%260,this.context.clearRect(0,0,this.viewWidth,this.viewHeight);let n=this.subContext.getImageData(0,0,this.viewWidth,this.viewHeight);this.context.putImageData(n,0,0),n=null,o>1/24*2?(s*=.99,this.debugPrint("up")):o<1/24*.5?(s*=1.01,this.debugPrint("down")):s=(1/24+s)/2},h=()=>{this.cancelFunctions(),this.requestAnimationIDs.push(window.requestAnimationFrame(n)),this.setTimeoutIDs.push(window.setTimeout(h,1e3*s))};this.setTimeoutIDs.push(window.setTimeout(h,1e3*s))}};class Matrix{constructor(){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0}reset(){return this.a=this.d=1,this.b=this.c=this.e=this.f=0,this}applyToPoint(t,e,i=1,s=i){return{x:(t*this.a+e*this.c+this.e)*i,y:(t*this.b+e*this.d+this.f)*s}}applyToArray(t,e=1,i=e){let s=[],r=t.length;for(let a=0;a<r;){let r=this.applyToPoint(t[a++],t[a++]);s.push(r.x*e,r.y*i)}return s}setMatrix(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,this.f=t.f,this}interpolate(t,e){let i=new Matrix;return i.a=this.a+(t.a-this.a)*e,i.b=this.b+(t.b-this.b)*e,i.c=this.c+(t.c-this.c)*e,i.d=this.d+(t.d-this.d)*e,i.e=this.e+(t.e-this.e)*e,i.f=this.f+(t.f-this.f)*e,i}setTransform(t,e,i,s,r,a){return this.a=t,this.b=e,this.c=i,this.d=s,this.e=r,this.f=a,this}transform(t,e,i,s,r,a){let o=this.a,n=this.b,h=this.c,l=this.d,c=this.e,u=this.f;return this.a=o*t+h*e,this.b=n*t+l*e,this.c=o*i+h*s,this.d=n*i+l*s,this.e=o*r+h*a+c,this.f=n*r+l*a+u,this}rotate(t){let e=Math.cos(t),i=Math.sin(t);return this.transform(e,i,-i,e,0,0)}scale(t,e=t){return this.transform(t,0,0,e,0,0)}scaleX(t){return this.transform(t,0,0,1,0,0)}scaleY(t){return this.transform(1,0,0,t,0,0)}skew(t,e){return this.transform(1,e,t,1,0,0)}skewX(t){return this.transform(1,0,t,1,0,0)}skewY(t){return this.transform(1,t,0,1,0,0)}translate(t,e){return this.transform(1,0,0,1,t,e)}translateX(t){return this.transform(1,0,0,1,t,0)}translateY(t){return this.transform(1,0,0,1,0,t)}}class Sprite{constructor(){this.m=new Matrix,this.x=0,this.y=0,this.anchorX=0,this.anchorY=0,this.scaleX=1,this.scaleY=1,this.rotation=0}setSprite(t){return this.x=t.x,this.y=t.y,this.anchorX=t.anchorX,this.anchorY=t.anchorY,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.rotation=t.rotation,this}compSprite(t){let e=new Sprite;return e.x=this.x+t.x,e.y=this.y+t.y,e.anchorX=this.anchorX+t.anchorX,e.anchorY=this.anchorY+t.anchorY,e.scaleX=this.scaleX*t.scaleX,e.scaleY=this.scaleY*t.scaleY,e.rotation=this.rotation+t.rotation,e}get matrix(){let t=this.scaleX,e=this.scaleY,i=this.rotation;return this.m.reset().translate(this.x,this.y).rotate(i).scale(t,e).translate(-this.anchorX,-this.anchorY)}}class PathObj{constructor(t,e,i,s,r,a){this.maskIdToUse=e,this.pathDataList=t,this.fillRule=i,this.fillStyle=s,this.lineWidth=r,this.strokeStyle=a,this.hasActionList=[]}addAction(t,e,i,s,r,a,o){0==this.hasActionList.length&&(this.pathDataList=[[this.pathDataList]],this.fillStyle=[[this.fillStyle]],this.lineWidth=[[this.lineWidth]],this.strokeStyle=[[this.strokeStyle]]),this.hasActionList[o]||(this.pathDataList[o]=[this.pathDataList[0][0]],this.fillStyle[o]=[this.fillStyle[0][0]],this.lineWidth[o]=[this.lineWidth[0][0]],this.strokeStyle[o]=[this.strokeStyle[0][0]],this.hasActionList[o]=!0),this.pathDataList[o][a]=t,this.fillStyle[o][a]=i,this.lineWidth[o][a]=s,this.strokeStyle[o][a]=r}drawPath(t,e,i,s){let r;switch(s.type){case"M":r=e.applyToArray(s.pos,t.pathRatio),i.moveTo(r[0],r[1]);break;case"C":r=e.applyToArray(s.pos,t.pathRatio),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Z":i.closePath();break;default:console.error("unknown type")}}drawStroke(t,e,i,s){i&&(t.lineJoin="round",t.lineCap="round",t.lineWidth=i,t.strokeStyle=s,t.stroke(e))}drawFill(t,e,i){t.fillStyle=i,t.fill(e,this.fillRule)}draw(t,e,i,s,r){let a=PathCtr.currentActionID,o=PathCtr.currentFrame;if(0==this.hasActionList.length){if(this.pathDataList.forEach(t=>this.drawPath(e,s,t)),r)return;return this.drawStroke(i,s,this.lineWidth,this.strokeStyle),void this.drawFill(i,s,this.fillStyle)}this.hasActionList[a]||(a=0,o=0),this.pathDataList[a][Math.min(o,this.pathDataList[a].length)].forEach(i=>this.drawPath(t,e,s,i)),r||(this.drawStroke(i,s,this.lineWidth[a][Math.min(o,this.lineWidth[a].length)],this.strokeStyle[a][Math.min(o,this.strokeStyle[a].length)]),this.drawFill(i,s,this.fillStyle[a][Math.min(o,this.fillStyle[a].length)]))}}class GroupObj extends Sprite{constructor(t,e,i,s,r){super(),this.visible=!0,this.id=t,this.paths=e,this.childGroups=i,this.maskIdToUse=r,this.hasActionList=[],s&&this.childGroups.forEach((t,e)=>this.hasActionList[e]=!0)}addAction(t,e,i){if(0!=t.length){if(0==this.hasActionList.length){if(JSON.stringify(t)==JSON.stringify(this.childGroups))return;this.childGroups=[[this.childGroups]],this.hasActionList[0]=!0}this.hasActionList[i]||(this.childGroups[i]=[this.childGroups[0][0].concat()],this.hasActionList[i]=!0),this.childGroups[i][e]=t}}getChildGroups(){if(0==this.childGroups.length)return this.childGroups;if(0==this.hasActionList.length)return this.childGroups;let t=PathCtr.currentActionID;return null==this.childGroups[t]||null==this.childGroups[t][PathCtr.currentFrame]?this.childGroups[0][0]:this.childGroups[t][PathCtr.currentFrame]}draw(t,e,i,s){if(!e)return void console.error("context is not found");if(!this.visible)return;let r=!1,a=i.compSprite(this);if(!s&&this.maskIdToUse){let i=t.groups[this.maskIdToUse];i?(r=!0,e.save(),i.draw(t,e,a,!0)):console.error("group is not found : "+this.maskIdToUse)}let o=s?new Path2D:null,n=!1;this.paths.forEach(i=>{n=!0;let r=!1;if(!s&&i.maskIdToUse){let s=t.groups[i.maskIdToUse];s?(r=!0,e.save(),s.draw(t,e,a,!0)):console.error("mask is not found : "+i.maskIdToUse)}s||(o=new Path2D),i.draw(t,a.matrix,e,o,s),r&&e.restore()}),this.getChildGroups().forEach(i=>{t.groups[i].draw(t,e,a,s)}),s&&n&&e.clip(o),o=null,r&&e.restore()}}class BoneObj extends GroupObj{constructor(t,e,i,s){super(t,e,i,s,"")}draw(t,e,i){if(!e)return void console.error("context is not found");if("undefined"==typeof DebugPath||!DebugPath.isShowBones||!this.visible)return;let s=i.compSprite(this);this.paths.forEach(i=>{let r=new Path2D;i.draw(t,s.matrix,e,r,!1),r=null}),this.getChildGroups().forEach(i=>{t.groups[i].draw(t,e,s,!1)})}}class PathContainer extends Sprite{constructor(){super(),this.visible=!0,this.originalWidth=0,this.originalHeight=0,this.displayWidth=0,this.displayHeight=0,this.pathRatio=0,this.context=null,this.rootGroups=[],this.groups=[],this.groupNameToIDList={},this.masks={},this.actionList=null}getGroup(t){return this.groups[this.groupNameToIDList[t]]}setSize(t,e){this.originalWidth>this.originalHeight?(this.displayWidth=t,this.displayHeight=t*this.originalHeight/this.originalWidth,this.pathRatio=t):(this.displayWidth=e*this.originalWidth/this.originalHeight,this.displayHeight=e,this.pathRatio=e)}draw(t,e=PathCtr.defaultActionName){if(!this.visible||!this.rootGroups)return;PathCtr.currentFrame=t,PathCtr.currentActionID=Object.keys(this.actionList).indexOf(e);let i,s,r=this.displayWidth,a=this.displayHeight;r>a?(i=1,s=a/r):(i=r/a,s=1);let o=()=>(new Sprite).setSprite(this);this.rootGroups.forEach(t=>{this.groups[t].draw(this,this.context,o(),!1)})}}var PathFactory={getMaskId:function(t){if(!t)return null;let e=t.replace(/^url\(#/,"").replace(/\)$/,"");return PathCtr.initTarget.masks[e]?PathCtr.initTarget.masks[e]:(console.error("unknown mask name : "+t),null)},makePathDataList:function(t){let e,i=[];e=t.indexOf(",")<0?t.split(/ /):t.replace(/([MCZ])/g,",$1,").replace(/[^,]-/g,",-").split(/[, ]/);let s=PathCtr.initTarget.originalWidth,r=PathCtr.initTarget.originalHeight,a=s>r?s:r,o=()=>parseFloat(e.shift())/a,n=()=>parseFloat(e.shift())/a;for(;e.length>0;){let t=e.shift();switch(t){case"M":i.push({type:"M",pos:[o(),n()]});break;case"C":i.push({type:"C",pos:[o(),n(),o(),n(),o(),n()]});break;case"Z":i.push({type:"Z"});break;case"":break;default:console.error("unknown type : "+t),console.log(t)}}return i},makePath:function(t,e){let i=e.fill;"none"==i&&(i="transparent");let s=0,r=e.stroke;return"none"==r?r="transparent":s=parseFloat(e.strokeWidth.match(/([\d\.]+)/)[1]),new PathObj(PathFactory.makePathDataList(t.getAttribute("d")),PathFactory.getMaskId(t.getAttribute("mask")),e.fillRule,i,s,r)},addActionPath:function(t,e,i,s,r){let a=e?i.fillRule:"nonzero",o=e?i.fill:"none";"none"==o&&(o="transparent");let n=0,h=e?i.stroke:"none";"none"==h?h="transparent":n=parseFloat(i.strokeWidth.match(/([\d\.]+)/)[1]);let l=null;l=e?this.makePathDataList(e.getAttribute("d")):t.pathDataList[0][0].concat(),t.addAction(l,a,o,n,h,s,r)},makeGroup:function(t){let e,i=t.getAttribute("id"),s=[],r=[];return Array.prototype.slice.call(t.children).forEach(t=>{let e=t.tagName;switch(PathCtr.debugPrint("make group : "+i+" : "+e),e){case"path":s.push(this.makePath(t,window.getComputedStyle(t)));break;case"mask":case"clipPath":break;case"g":r.push(PathCtr.initTarget.groupNameToIDList[t.getAttribute("id")]),this.makeGroup(t);break;default:console.error("unknown element"),console.log(t)}}),e=i==PathCtr.defaultBoneName?new BoneObj(i,s,r,!1):new GroupObj(i,s,r,!1,PathFactory.getMaskId(t.getAttribute("mask"))),PathCtr.initTarget.groups[PathCtr.initTarget.groupNameToIDList[i]]=e,e},addActionGroup:function(t,e,i,s){let r=PathCtr.initTarget.groups[PathCtr.initTarget.groupNameToIDList[e]],a=[],o=0;if(t){Array.prototype.slice.call(t.children).forEach(t=>{switch(t.tagName){case"path":this.addActionPath(r.paths[o++],t,window.getComputedStyle(t),i,s);break;case"mask":case"clipPath":break;case"g":a.push(PathCtr.initTarget.groupNameToIDList[t.getAttribute("id")]);break;default:console.error("unknown element"),console.log(t)}})}else{Array.prototype.slice.call(r.paths).forEach(t=>{this.addActionPath(t,null,null,i,s)})}r.addAction(a,i,s)},initFromSvg:function(t){if(!t)return console.error("groups dom is not found"),null;console.log("init");let e=PathCtr.initTarget=new PathContainer;return e.originalWidth=e.displayWidth=parseInt(t.getAttribute("width").replace("px","")),e.originalHeight=e.displayHeight=parseInt(t.getAttribute("height").replace("px","")),Array.prototype.slice.call(t.getElementsByTagName("g")).forEach(t=>{let i=t.getAttribute("id");null==e.groupNameToIDList[i]?e.groupNameToIDList[i]=Object.keys(e.groupNameToIDList).length:console.error("group ID is duplicated : "+i)}),Array.prototype.slice.call(t.getElementsByTagName("mask")).forEach(t=>{Array.prototype.slice.call(t.children).forEach(i=>{"use"==i.tagName?e.masks[t.getAttribute("id")]=e.groupNameToIDList[i.getAttribute("xlink:href").slice(1)]:(console.error("unknown mask data"),console.log(i))})}),Array.prototype.slice.call(t.children).forEach(t=>{if("g"!=t.tagName)return;let i=this.makeGroup(t);e.rootGroups.push(e.groupNameToIDList[i.id])}),PathCtr.initTarget=null,e},addActionFromSvgList:function(t,e,i=0){if(!t)return void console.error("path container is not found");if(!e)return void console.error("groups dom list is not found");PathCtr.initTarget=t,console.log("check id");let s={},r=Array.prototype.slice.call(e),a=r[0];a.getElementsByTagName("g");r.forEach(e=>{let i=e.getElementsByTagName("g"),s=[].map.call(i,t=>t.getAttribute("id"));Array.prototype.forEach.call(s,i=>{null==t.groupNameToIDList[i]&&(t.groupNameToIDList[i]=Object.keys(t.groupNameToIDList).length,this.makeGroup(e.getElementById(i)))}),Array.prototype.slice.call(e.getElementsByTagName("mask")).forEach(e=>{let i=e.getAttribute("id");t.masks[i]||Array.prototype.slice.call(e.children).forEach(e=>{"use"==e.tagName?t.masks[i]=t.groupNameToIDList[e.getAttribute("xlink:href").slice(1)]:(console.error("unknown mask data"),console.log(e))})})}),console.log(t),console.log("check diff"),r.forEach(e=>{Object.keys(t.groupNameToIDList).forEach(t=>{let i=a.getElementById(t);i&&e&&i.isEqualNode(e.getElementById(t))||(s[t]=!0)})}),r.forEach((t,e)=>{0!=e&&(console.log("add action : "+i+" - "+e),Object.keys(s).forEach(s=>{this.addActionGroup(t.getElementById(s),s,e,i)}))}),PathCtr.initTarget=null},initFromBin:function(t){if(!t)return console.error("array buffer is not found"),null;let e=PathCtr.initTarget=new PathContainer,i=new DataView(t),s=0,r=()=>{let t=i.getUint8(s);return s+=1,t},a=()=>{let t=i.getUint16(s);return s+=2,t},o=()=>{let t=i.getFloat32(s);return s+=4,t},n=()=>{let t=i.getInt16(s)/PathCtr.binDataPosRange;return s+=2,t},h=()=>{let t=r(),e="";for(let i=0;i<t;++i)e+=String.fromCharCode(a());return e},l=()=>0==r()?"transparent":"rgb("+r()+", "+r()+", "+r()+")",c=(t,e)=>{let i=[],s=t();for(let t=0;t<s;){let s=a();if(0==s){if(0==(s=a())){console.error("data format error");break}t+=s;continue}let r=e();if(Array.isArray(r))for(let e=0;e<s;++e)i[t+e]=r.concat();else for(let e=0;e<s;++e)i[t+e]=r;t+=s}return i},u=t=>c(r,()=>c(a,()=>t())),d=()=>{let t=a(),e=[];for(let i=0;i<t;++i){let t=r();switch(t){case 0:e.push({type:"M",pos:[n(),n()]});break;case 1:e.push({type:"C",pos:[n(),n(),n(),n(),n(),n()]});break;case 2:e.push({type:"Z"});break;default:console.error("unknown type : "+t)}}return e},p=()=>{let t=a(),e=0==r()?"nonzero":"evenodd";if(!r()){let i=o(),s=l(),r=l(),a=d();return new PathObj(a,t,e,s,i,r)}let i=u(o),s=u(l),n=u(l),h=u(d),c=new PathObj(h,t,e,s,i,n);return c.lineWidth.forEach((t,e)=>c.hasActionList[e]=!0),c.fillStyle.forEach((t,e)=>c.hasActionList[e]=!0),c.strokeStyle.forEach((t,e)=>c.hasActionList[e]=!0),c.pathDataList.forEach((t,e)=>c.hasActionList[e]=!0),c},g=t=>{let i=h();e.groupNameToIDList[i]=t;let s,o=a(),n=c(a,p),l=r()>0;return s=l?u(()=>c(r,a)):c(r,a),i==PathCtr.defaultBoneName?new BoneObj(i,n,s,l):new GroupObj(i,n,s,l,o)};e.originalWidth=e.displayWidth=a(),e.originalHeight=e.displayHeight=a();let f=r();if(f>0){e.actionList={};for(let t=0;t<f;++t)e.actionList[h()]={id:r(),totalFrames:a()}}e.rootGroups=c(r,a);let m=a();for(let t=0;t<m;++t)PathCtr.debugPrint("count : "+t),PathCtr.debugPrint(t),PathCtr.debugPrint(s),e.groups[t]=g(t),PathCtr.debugPrint(e.groups[t]);return PathCtr.initTarget=null,e},dataTobin:function(t){if(!t)return console.error("path container is not found"),null;let e=new ArrayBuffer(1e9),i=new DataView(e),s=0,r=t=>{i.setUint8(s,t),s+=1},a=t=>{i.setUint16(s,t),s+=2},o=t=>{i.setFloat32(s,t),s+=4},n=t=>{i.setInt16(s,t*PathCtr.binDataPosRange),s+=2},h=t=>{r(t.length),[].map.call(t,t=>a(t.charCodeAt(0)))},l=t=>{if("transparent"==t)r(0);else{let e=t.match(/(\d+), (\d+), (\d+)/);r(1),r(e[1]),r(e[2]),r(e[3])}},c=(t,e,i)=>{let s=t.length;e(s);for(let e=0;e<s;){let r=t[e],o=1;if(void 0!==r){for(;o<s&&(void 0!==t[e+o]&&JSON.stringify(r)==JSON.stringify(t[e+o]));++o);a(o),e+=o,i(r)}else{for(a(0);o<s&&void 0===t[e+o];++o);a(o),e+=o}}},u=(t,e)=>{c(t,r,t=>{c(t,a,e)})},d=t=>{a(t.length),t.forEach(t=>{switch(t.type){case"M":r(0),n(t.pos[0]),n(t.pos[1]);break;case"C":r(1);for(let e=0;e<6;++e)n(t.pos[e]);break;case"Z":r(2);break;default:console.error("unknown type")}})},p=t=>{a(t.maskIdToUse),r("nonzero"==t.fillRule?0:1),t.hasActionList.length>0?(r(1),u(t.lineWidth,o),u(t.fillStyle,l),u(t.strokeStyle,l),u(t.pathDataList,d)):(r(0),o(t.lineWidth),l(t.fillStyle),l(t.strokeStyle),d(t.pathDataList))};a(t.originalWidth),a(t.originalHeight),r(Object.keys(t.actionList).length),Object.keys(t.actionList).forEach(e=>{h(e),r(t.actionList[e].id),a(t.actionList[e].totalFrames)}),c(t.rootGroups,r,a);let g=t.groups.length;return a(g),t.groups.forEach(t=>{console.log("count : "+g--),PathCtr.debugPrint(s),(t=>{h(t.id),a(t.maskIdToUse),c(t.paths,a,p),t.hasActionList.length>0?(r(1),u(t.childGroups,t=>{c(t,r,a)})):(r(0),c(t.childGroups,r,a))})(t),PathCtr.debugPrint(t)}),delete i,e.slice(0,s)},svgFilesLoad:function(t,e){if(!t||!Array.isArray(t)||!Array.isArray(t[0]))return console.error("fileInfoList format is woring"),void console.log(t);if(t[0][2]!=PathCtr.defaultActionName)return void console.error('action name "'+PathCtr.defaultActionName+'" is missing in fileInfoList');let i=null,s=0,r=[],a=t=>"00000".substr(0,5-t.toString().length)+t+".svg",o=n=>{let h=n[0],l=n[1],c=n[2],u=1,d=new XMLHttpRequest,p=d.onload=function(n){let g=n.target;if(4!=g.readyState)return;if(200!=g.status&&0!=g.status)return;let f=g.responseText,m=document.createElement("div");m.setAttribute("style","display:none;"),m.innerHTML=f;let y=m.firstElementChild;if(document.body.append(m),r[parseInt(f.match(/id="Frame_(\d+)"/)[1])-1]=y,m=y=null,delete d,u<=l)return console.log("load file : "+u),(d=new XMLHttpRequest).open("GET",h+a(u++),!0),d.onreadystatechange=p,void d.send();i||((i=PathFactory.initFromSvg(r[0])).actionList={});let w=Object.keys(i.actionList).length;i.actionList[c]={id:w,totalFrames:l},PathFactory.addActionFromSvgList(i,r,w),console.log("loading completed"),PathCtr.debugPrint(i),r.forEach(t=>t.parentNode.remove()),r.length=0,++s<t.length?o(t[s]):e(i)};d.open("GET",h+a(u++),!0),d.send()};o(t[s])},binFileLoad:function(t,e){if(!t)return void console.error("filePath not found");let i=new XMLHttpRequest;i.onload=function(t){let s=t.target;if(4!=s.readyState)return;if(200!=s.status&&0!=s.status)return;let r=i.response,a=PathFactory.initFromBin(r);console.log("loading completed"),PathCtr.debugPrint(a),e(a)},i.open("GET",t,!0),i.responseType="arraybuffer",i.send()}};